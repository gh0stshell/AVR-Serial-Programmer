<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>AVR Serial Programmer: Atmel Serial Programmer for AVR</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Atmel Serial Programmer for AVR</h1><p>Code for the embedded portion of the Battery Charger Project, for an 8MHz Atmel MCU AT90S2313.</p>
<dl class="version"><dt><b>Version:</b></dt><dd>0.0 </dd></dl>
<dl class="author"><dt><b>Author:</b></dt><dd>Ken Sarkies (www.jiggerjuice.net) </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>2 January 2010</dd></dl>
<p>This is the AVR code for the stand-alone serial programmer that interfaces to the PC via a serial (USB) link and to the target via the SPI interface.</p>
<p>The board is designed to receive serial commands that are compatible with the AVRPROG command set, and to activate the SPI interface to program a target AVR microcontroller. The board uses the AT90S2313 (probably obsolete) AVR microcontroller (which can be replaced by the ATTiny2313).</p>
<p>The SPI port is used along with an additional output pin used to hold the target in a reset state. When programming has been completed, the board switches the serial communications to pass through to the target. This switches the incoming serial communications from the target through to the PC. The outgoing communications from the PC are simply copied to the target.</p>
<p>Refer to the Project documents for more details.</p>
<p>The main differences between targets are: 1. The availability of a busy status. If not available, fixed delays need to be added where memory accesses are made, or rereading of the memory location. 2. The use of paged or individual FLASH memory programming. EEPROM can always be accessed individually, but some devices allow paged writes. 3. The size of the memory pages. The AT90S2313 and ATTiny2313 are limited to 32 word page support. 4. The need to access Fuse, High Fuse and Extended Fuse bits. 5. While all have programmable lock bits, not all can be read.</p>
<p>Currently all the above are supported and no distinction is made.</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Compiler: avr-gcc (GCC) 3.4.5 (CDK4AVR 3.0 3.4.5-20060708) </dd>
<dd>
Target: AT90S2313, ATTiny2313 at 8.0MHz </dd>
<dd>
Tested: AT90S2313 at 8.0MHz </dd>
<dd>
Uses: <a class="el" href="serial_8c.html">serial.c</a>, <a class="el" href="defines_8h.html">defines.h</a>, <a class="el" href="flash_8h.html">flash.h</a> written by R Aapeland (?) </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Where a fuse/lock capability is tested and the command within the if statement contains a <a class="el" href="serial_8c.html#a061aec0d02cf07b3514ade930d643714">recchar()</a> call, move the latter out of the if to allow the protocol to complete correctly even if the capability is not supported. </dd></dl>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Apr 6 09:29:40 2010 for AVR Serial Programmer by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
